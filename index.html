<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Renault Captur 2026 | Konfigurator Systemowy</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;700;900&display=swap" rel="stylesheet">
    <style>
        :root {
            --r-yellow: #FFCC33;
            --glass: rgba(255, 255, 255, 0.03);
            --glass-strong: rgba(255, 255, 255, 0.08);
            --border: rgba(255, 255, 255, 0.12);
            --blur: blur(40px);
        }

        * { box-sizing: border-box; margin: 0; padding: 0; }
        body, html { 
            height: 100%; overflow: hidden; font-family: 'Inter', sans-serif; color: #fff;
            background: #050505;
        }

        /* BACKGROUND IMAGE Z BLUREM W TLE */
        .bg-wrapper {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: url('https://images.unsplash.com/photo-1549237511-6b64e0aa2b1f?q=80&w=2000') no-repeat center center;
            background-size: cover; z-index: -1; filter: brightness(0.4);
        }

        /* LICZNIK KROKÓW NA GÓRZE */
        .top-nav {
            position: fixed; top: 30px; left: 50%; transform: translateX(-50%);
            background: var(--glass); backdrop-filter: var(--blur);
            padding: 10px 30px; border-radius: 40px; border: 1px solid var(--border);
            z-index: 1000; display: flex; align-items: center; gap: 20px;
        }
        .step-pill { font-size: 0.7rem; font-weight: 900; letter-spacing: 2px; color: var(--r-yellow); }

        /* GŁÓWNY LAYOUT */
        main { display: grid; grid-template-columns: 1fr 550px; height: 100vh; padding: 20px; gap: 20px; }

        /* LEWA STRONA - AUTO */
        .car-view { display: flex; flex-direction: column; justify-content: center; align-items: center; position: relative; }
        .car-view img { width: 90%; filter: drop-shadow(0 20px 80px rgba(0,0,0,0.8)); transition: 0.8s cubic-bezier(0.2, 1, 0.3, 1); }
        .car-info { position: absolute; bottom: 60px; left: 40px; }
        .car-info h1 { font-size: 4rem; font-weight: 900; letter-spacing: -3px; }

        /* PRAWA STRONA - KONFIGURATOR (FLUID GLASS) */
        .config-container {
            background: var(--glass); backdrop-filter: var(--blur);
            border: 1px solid var(--border); border-radius: 30px;
            display: flex; flex-direction: column; overflow: hidden; position: relative;
        }

        .scroll-area { padding: 40px; overflow-y: auto; flex-grow: 1; padding-bottom: 140px; }
        .scroll-area::-webkit-scrollbar { width: 4px; }
        .scroll-area::-webkit-scrollbar-thumb { background: var(--r-yellow); border-radius: 10px; }

        /* SEKCJE I OPCJE */
        .section-header { margin: 30px 0 15px; font-size: 0.65rem; font-weight: 900; letter-spacing: 3px; color: var(--r-yellow); text-transform: uppercase; }
        .option-card {
            background: var(--glass-strong); padding: 20px; border-radius: 15px; margin-bottom: 10px;
            display: flex; justify-content: space-between; align-items: center;
            border: 1px solid transparent; transition: 0.3s; cursor: pointer;
        }
        .option-card:hover { border-color: var(--r-yellow); background: rgba(255,255,255,0.05); }
        .option-card input { accent-color: var(--r-yellow); width: 20px; height: 20px; }

        /* DOLNA BELKA NAWIGACJI */
        .bottom-bar {
            position: absolute; bottom: 0; width: 100%; padding: 30px;
            background: rgba(0,0,0,0.3); backdrop-filter: var(--blur);
            border-top: 1px solid var(--border); display: flex; flex-direction: column; gap: 15px;
        }

        .nav-buttons { display: flex; gap: 15px; position: relative; }
        .btn { 
            flex: 1; padding: 20px; border: none; border-radius: 15px; 
            font-weight: 900; text-transform: uppercase; cursor: pointer; transition: 0.3s; 
        }
        .btn-next { background: var(--r-yellow); color: #000; }
        .btn-next:disabled { background: #333; color: #777; cursor: not-allowed; }
        .btn-back { background: transparent; color: #fff; border: 1px solid var(--border); }

        /* BLOKADA COOKIES HOVER */
        .lock-shield {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            z-index: 100; cursor: not-allowed; opacity: 0; transition: 0.3s;
            border-radius: 15px;
        }
        .lock-shield:hover { opacity: 1; background: rgba(200, 0, 0, 0.8); backdrop-filter: blur(10px); display: flex; align-items: center; justify-content: center; }
        .lock-shield:hover::after { content: "PROSZĘ O ZEZWOLENIE"; font-size: 0.7rem; font-weight: 900; letter-spacing: 1px; }

        /* SLIDER CIEKAWOSTEK */
        #fact-slider { font-size: 0.75rem; text-align: center; opacity: 0.6; font-style: italic; min-height: 1.2em; }

        /* COOKIE BAR */
        #cookie-banner {
            position: fixed; bottom: 30px; left: 30px; width: 400px;
            background: var(--glass-strong); backdrop-filter: var(--blur);
            padding: 25px; border-radius: 20px; border: 1px solid var(--r-yellow); z-index: 2000;
        }

        /* FAKTURA */
        .invoice-box { background: #fff; color: #000; padding: 40px; border-radius: 5px; font-family: 'Courier New', Courier, monospace; }

        .step { display: none; }
        .active { display: block; }
    </style>
</head>
<body>

    <div class="bg-wrapper"></div>

    <div class="top-nav">
        <div class="step-pill">RENAULT SYSTEM 2026</div>
        <div style="width: 1px; height: 20px; background: var(--border);"></div>
        <div class="step-pill">KROK <span id="step-count">1</span> / 4</div>
    </div>

    <div id="cookie-banner">
        <h4 style="margin-bottom: 10px; color: var(--r-yellow);">COOKIES & PRIVACY</h4>
        <p style="font-size: 0.8rem; margin-bottom: 20px; opacity: 0.8;">Wymagamy zgody na pliki cookies, aby odblokować proces płatności i zapisu faktury proforma.</p>
        <button class="btn btn-next" style="padding: 10px 20px;" onclick="acceptCookies()">ZAAKCEPTUJ WSZYSTKO</button>
    </div>

    <main>
        <section class="car-view">
            <img src="https://images.unsplash.com/photo-1595786676378-433f169f14d8?q=80&w=1000" id="main-car-img">
            <div class="car-info">
                <h1>CAPTUR</h1>
                <p style="font-size: 1.5rem; opacity: 0.5; margin-bottom: 20px;">Suma: <span id="price-total">105 000</span> PLN</p>
            </div>
        </section>

        <section class="config-container">
            <div class="scroll-area">
                
                <div id="s1" class="step active">
                    <div class="section-header">Kolorystyka nadwozia</div>
                    <div class="option-card" onclick="updateBase(0, 'grayscale(0)')">Biel Alpejska <span>W cenie</span></div>
                    <div class="option-card" onclick="updateBase(2900, 'brightness(0.3)')">Czerń Etoile <span>+2 900 PLN</span></div>
                    <div class="option-card" onclick="updateBase(3500, 'hue-rotate(200deg)')">Niebieski Iron <span>+3 500 PLN</span></div>
                </div>

                <div id="s2" class="step">
                    <div class="section-header">Pakiety bezpieczeństwa</div>
                    <div id="cat-safety"></div>
                    <div class="section-header">Komfort i Multimedia</div>
                    <div id="cat-comfort"></div>
                    <div class="section-header">Styl i Wykończenie</div>
                    <div id="cat-style"></div>
                </div>

                <div id="s3" class="step">
                    <div class="section-header">Metoda płatności</div>
                    <div class="option-card" onclick="selectPay('CARD')">Karta Płatnicza (Stripe)</div>
                    <div class="option-card" onclick="selectPay('QR')">Kod QR (Przelewy24)</div>
                    <div class="option-card" onclick="selectPay('BLIK')">System BLIK</div>
                    <div id="pay-status" style="margin-top: 20px; text-align: center; color: var(--r-yellow); font-weight: 900;"></div>
                </div>

                <div id="s4" class="step">
                    <div class="invoice-box">
                        <div style="text-align: center; border-bottom: 1px solid #000; padding-bottom: 10px; margin-bottom: 20px;">
                            <h2 style="font-size: 1.2rem;">FAKTURA PROFORMA #2026/RN</h2>
                            <p>Dealer Renault Polska</p>
                        </div>
                        <div id="invoice-items" style="font-size: 0.7rem;"></div>
                        <div style="margin-top: 20px; border-top: 2px solid #000; padding-top: 10px; text-align: right; font-weight: 900;">
                            DO ZAPŁATY: <span id="inv-total"></span> PLN
                        </div>
                    </div>
                    <button class="btn btn-next" style="margin-top: 20px;" onclick="window.print()">POBIERZ DOKUMENT PDF</button>
                </div>

            </div>

            <div class="bottom-bar">
                <div id="fact-slider">Znamy się na recyklingu. 100% tkanin to butelki PET.</div>
                <div class="nav-buttons">
                    <button class="btn btn-back" onclick="changeStep(-1)">Wstecz</button>
                    <div style="flex: 1; position: relative;">
                        <div id="lock-overlay" class="lock-shield"></div>
                        <button id="btn-next" class="btn btn-next" onclick="changeStep(1)" disabled>Dalej</button>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <script>
        let currentStep = 1;
        let basePrice = 105000;
        let extraPrice = 0;
        let selectedOptions = [];
        let accepted = false;

        const optionsData = {
            safety: ["Kamera 360", "Aktywny tempomat", "Martwe pole", "Asystent pasa", "Rozpoznawanie znaków", "Hamowanie awaryjne", "ISOFIX przód", "Alarm", "Czujniki 360"],
            comfort: ["Ekran 10.4\"", "Audio Bose", "Indukcja tel.", "Podgrzewane fotele", "Klima 2-strefowa", "Dach szklany", "Ambient Light", "Keyless Hands-free", "Masaż fotela"],
            style: ["Felgi 19\"", "Lakier metalik", "Tapicerka skóra", "Relingi dachowe", "Hak holowniczy", "Przyciemniane szyby", "Antena Shark", "Pakiet Chrom", "Dywaniki Premium"]
        };

        const facts = [
            "Wnętrze zawiera 26 kg przetworzonych tworzyw.",
            "Szyby odbijają 99% promieni UV.",
            "Silnik E-Tech odzyskuje energię podczas każdego hamowania.",
            "System Google Automotive aktualizuje się bezprzewodowo."
        ];

        function init() {
            Object.keys(optionsData).forEach(cat => {
                const container = document.getElementById('cat-' + cat);
                optionsData[cat].forEach(opt => {
                    let price = 1200 + Math.floor(Math.random()*4000);
                    container.innerHTML += `
                        <div class="option-card">
                            <label><input type="checkbox" onchange="toggleOption('${opt}', ${price}, this)"> ${opt}</label>
                            <span>+${price} PLN</span>
                        </div>
                    `;
                });
            });
            setInterval(() => {
                document.getElementById('fact-slider').innerText = facts[Math.floor(Math.random()*facts.length)];
            }, 5000);
        }

        function acceptCookies() {
            accepted = true;
            document.getElementById('cookie-banner').style.display = 'none';
            document.getElementById('lock-overlay').style.display = 'none';
            document.getElementById('btn-next').disabled = false;
        }

        function toggleOption(name, price, el) {
            if(el.checked) { extraPrice += price; selectedOptions.push({name, price}); }
            else { extraPrice -= price; selectedOptions = selectedOptions.filter(o => o.name !== name); }
            updateUI();
        }

        function updateBase(price, filter) {
            basePrice = 105000 + price;
            document.getElementById('main-car-img').style.filter = filter;
            updateUI();
        }

        function updateUI() {
            let total = basePrice + extraPrice;
            document.getElementById('price-total').innerText = total.toLocaleString();
            document.getElementById('inv-total').innerText = total.toLocaleString();
            document.getElementById('step-count').innerText = currentStep;
        }

        function changeStep(dir) {
            if(currentStep + dir < 1 || currentStep + dir > 4) return;
            document.getElementById('s' + currentStep).classList.remove('active');
            currentStep += dir;
            document.getElementById('s' + currentStep).classList.add('active');
            updateUI();
            if(currentStep === 4) generateInvoice();
        }

        function selectPay(type) {
            document.getElementById('pay-status').innerText = "AUTORYZACJA SYSTEMU " + type + "... CZEKAJ";
            setTimeout(() => { changeStep(1); }, 2000);
        }

        function generateInvoice() {
            const box = document.getElementById('invoice-items');
            box.innerHTML = `<p>Renault Captur 2026 - Wersja Podstawowa: ${basePrice.toLocaleString()} PLN</p><br>`;
            selectedOptions.forEach(o => {
                box.innerHTML += `<p>+ ${o.name}: ${o.price.toLocaleString()} PLN</p>`;
            });
        }

        init();
    </script>
</body>
</html>
